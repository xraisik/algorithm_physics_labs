import pytest
from lab_7 import count_rotations

def test_count_rotations():
    test_cases = [
        ([15, 18, 2, 3, 6, 12], 2),  # Мінімум на індексі 2
        ([1, 2, 3, 4, 5, 6, 7], 0),  # Відсортований список, без зсуву
        ([7, 1, 2, 3, 4, 5, 6], 1),  # Мінімум на індексі 1
        ([4, 5, 6, 7, 1, 2, 3], 4),  # Мінімум на індексі 4
        ([10, 10, 10, 1, 10, 10], 3),  # Мінімум на індексі 3 (повторювані елементи)
        ([1], 0),  # Один елемент, без зсуву
        ([2, 1], 1),  # Мінімум на індексі 1
        ([], 0),  # Порожній список, 0 зсувів
        ([1, 1, 1, 1, 1], 0),  # Повторювані однакові елементи
        ([3, 1, 2], 1)  # Мінімум на індексі 1
    ]

    for nums, expected in test_cases:
        assert count_rotations(nums) == expected, f"Failed on input: {nums}"